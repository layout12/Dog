<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="user">

<insert id="UsersInsert" parameterType="UsersForm">
	INSERT 
		INTO 
		USERS
		(
		UR_NO
		,UR_ID
		,UR_PW
		,UR_PHONE
		,UR_EMAIL
		,UR_ADDR
		,UR_REGDATE
		,UR_DROPDATE
		,UR_GRADE
		,UR_YN
		)
		VALUES 
		(
		usersseq.nextval
		,#{urId}
		,#{urPw}
		,#{urPhone}
		,#{urEmail}
		,#{urAddr}
		,SYSDATE
		,null
		,'USER'
		,'Y'
		)
</insert>

<select id="UsersList" resultType="UsersVo">
	SELECT
		ur_no
		,ur_id
		,ur_pw
		,ur_phone
		,ur_email
		,ur_addr
		,ur_regdate
		,ur_dropdate
		,ur_grade
		,ur_yn
		FROM USERS
		ORDER BY ur_no DESC
</select>

<select id="UsersLogin" resultType="UsersVo">
	SELECT
		*
		FROM USERS
		WHERE ur_id = #{urId}
		AND ur_pw = #{urPw}
</select>

<select id="UserCheck" resultType="Integer">
	SELECT
		COUNT(*)
		FROM USERS
		WHERE ur_id = #{urId}
		AND ur_pw = #{urPw}
</select>

<select id="UdundantInspection" parameterType="map" resultType="int">
	SELECT 
		count(*) 
		FROM USERS 
		WHERE ${column} = #{val}

</select>
</mapper>